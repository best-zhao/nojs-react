webpackJsonp([5],{291:function(e,t,o){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=(t.HsbToRgb=function(e,t,o){var r={R:0,G:0,B:0};if(e=e>=360?0:e,t/=100,o/=100,0==t)r.R=255*o,r.G=255*o,r.B=255*o;else{var n=Math.floor(e/60)%6,a=e/60-n,l=o*(1-t),i=o*(1-t*a),c=o*(1-t*(1-a));switch(n){case 0:r.R=o,r.G=c,r.B=l;break;case 1:r.R=i,r.G=o,r.B=l;break;case 2:r.R=l,r.G=o,r.B=c;break;case 3:r.R=l,r.G=i,r.B=o;break;case 4:r.R=c,r.G=l,r.B=o;break;case 5:r.R=o,r.G=l,r.B=i}r.R=255*r.R,r.G=255*r.G,r.B=255*r.B}return r},t.RgbToHsb=function(e,t,o){var r,n,a,l=Math.min(Math.min(e,t),o),i=Math.max(Math.max(e,t),o),c={H:0,S:0,B:0};return l==i?c.H=0:i==e&&t>=o?c.H=(t-o)/(i-l)*60:i==e&&t<o?c.H=(t-o)/(i-l)*60+360:i==t?c.H=(o-e)/(i-l)*60+120:i==o&&(c.H=(e-t)/(i-l)*60+240),c.S=0==i?0:1-l/i,r=e/255,n=t/255,a=o/255,c.B=Math.max(Math.max(r,n),a),c.H=c.H>=360?0:c.H,c.S=100*c.S,c.B=100*c.B,c},t.RgbToHex=function(e,t,o,r){for(var n,a="",l=[Math.round(e),Math.round(t),Math.round(o)],i=0;i<l.length;i++)n=Number(l[i]).toString(16),1==n.length&&(n="0"+n),a+=n;return r&&(a="#"+a),a},t.HexToRgb=function(e){var t=r(e);if(!t)return e;for(var o=[],n=0;n<5;n+=2)o.push(parseInt("0x"+t.slice(n,n+2)));return{R:o[0],G:o[1],B:o[2]}},t.dealColor=function(e){e=String(e).toLowerCase().replace(/#/,"");var t=/^([0-9a-fA-f]{3}|[0-9a-fA-f]{6})$/;if(e&&t.test(e)){if(3==e.length){for(var o="",r=0;r<3;r++)o+=e.slice(r,r+1)+e.slice(r,r+1);e=o}return e}})},292:function(e,t,o){e.exports=o.p+"img/lib/e1afc72d.choose.png"},293:function(e,t,o){e.exports=o.p+"img/lib/f9aeabdb.masks.png"},294:function(e,t,o){e.exports=o.p+"img/lib/3915f498.rolling.png"},295:function(e,t,o){e.exports=o.p+"img/lib/c7946f7d.rolling_B.png"},297:function(e,t,o){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function n(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function a(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function l(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var i=function(){function e(e,t){for(var o=0;o<t.length;o++){var r=t[o];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,o,r){return o&&e(t.prototype,o),r&&e(t,r),t}}(),c=o(5),s=r(c),p=o(24),u=o(173),d=r(u),b=o(298),f=r(b),h=o(291);o(300);var g=function(e){function t(e){n(this,t);var o=a(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e)),r=Object.assign({},o.props);return r.color=(0,h.dealColor)(r.color),o.state={data:r},o}return l(t,e),i(t,[{key:"componentDidMount",value:function(){var e=this,t=this.props,o=(t.visible,t.children,t.onChange),r=t.onSubmit;this.pop=d.default.create({trigger:"click",effect:"normal",nearby:(0,s.default)(p.ReactDOM.findDOMNode(this))}).onShow(function(){var t=p.React.createElement(f.default,{data:e.state.data,onChange:function(t){e.setState({data:t}),o&&o(t)},onSubmit:function(t){e.setState({data:t}),e.pop.setDisplay(!1),r&&r(t)},onCancel:function(t){return e.pop.setDisplay(!1)}});e.pop.setState({template:t})}).onHide(function(){e.pop.setState({template:null})})}},{key:"render",value:function(){var e=this.props.children,t=this.state.data;return e||p.React.createElement("span",{className:"color-picker"},p.React.createElement("span",{className:t.color?"inner":"transparent",style:{backgroundColor:"#"+t.color}}))}}]),t}(p.React.Component);t.default=g},298:function(e,t,o){"use strict";function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function n(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function a(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var l=function(){function e(e,t){for(var o=0;o<t.length;o++){var r=t[o];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,o,r){return o&&e(t.prototype,o),r&&e(t,r),t}}(),i=o(5),c=function(e){return e&&e.__esModule?e:{default:e}}(i),s=o(24),p=o(291),u=(0,c.default)(document),d=function(e){function t(e){r(this,t);var o=n(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e)),a=o.props.data;o.state={hue:"rgb(255, 0, 0)",pos:{},data:Object.assign({h:0,s:0,b:100,R:255,G:255,B:255,color:"ffffff"},a)};var l="hsb";return a.color?l="color":a.R&&(l="rgb"),o.update(l,!0),o}return a(t,e),l(t,[{key:"startChoose",value:function(e,t){var o=this;this.moveHandle(e,t),u.on("mousemove.color",function(t){o.moveHandle(e,t)}).on("mouseup.color",function(e){u.off("mousemove.color mouseup.color")})}},{key:"moveHandle",value:function(e,t){var o=this.state.data,r=(0,c.default)(this.refs[e]),n="mask"==e,a={x:t.clientX,y:t.clientY},l=a.y+(0,c.default)(window).scrollTop()-r.offset().top;if(l=l<0?0:l,l=l>255?255:l,n){o.b=100-100*l/255;var i=a.x+(0,c.default)(window).scrollLeft()-r.offset().left;i=i<0?0:i,i=i>255?255:i,o.s=100*i/255}else{o.h=360-360*l/255;var s=this.state.maxHue=o.h>=360;o.h=s?0:o.h}t.preventDefault(),this.update("hsb")}},{key:"update",value:function(e,t){var o=this.props.onChange,r=this.state,n=r.data,a=(r.pos,n),l=a.h,i=a.s,c=a.b,s=a.R,u=a.G,d=a.B,b=a.color;if("hsb"==e){var f=(0,p.HsbToRgb)(l,i,c);s=f.R,u=f.G,d=f.B}else if("rgb"==e)var h=(0,p.RgbToHsb)(s,u,d),l=h.H,i=h.S,c=h.B;else{var g=(0,p.HexToRgb)(b);if("string"==typeof g||b.length<6)return void this.setState({data:n});var s=g.R,u=g.G,d=g.B,m=(0,p.RgbToHsb)(s,u,d),l=m.H,i=m.S,c=m.B}n={h:Math.round(l),s:Math.round(i),b:Math.round(c),color:(0,p.RgbToHex)(s,u,d).toUpperCase(),R:Math.round(s),G:Math.round(u),B:Math.round(d)};var x=(0,p.HsbToRgb)(l,100,100);this.state.hue="rgb("+Math.round(x.R)+", "+Math.round(x.G)+", "+Math.round(x.B)+")",t&&(this.state.maxHue=!l),this.getPos(n),t?this.state.data=n:(o&&o(n),this.setState({data:n}))}},{key:"getPos",value:function(e){var t=this.state,o=t.maxHue,r=t.pos,n=e.h,a=e.s,l=e.b;r.roll_top=o?-3:(360-n)/360*255-3,r.left=255*a/100-6,r.top=255*(100-l)/100-6}},{key:"changeHandle",value:function(e,t){var o=this.state.data,r=t.target.value;if(this.state.maxHue=!1,"color"==e)return o[e]=r,void this.update(e);r=parseInt(r),r=isNaN(r)?o[e]:r,e.toLowerCase()!=e?(r=r<0||r>255?o[e]:r,o[e]=r,this.update("rgb")):(r="h"==e?r<0||r>359?o[e]:r:r<0||r>100?o[e]:r,o[e]=r,this.update("hsb"))}},{key:"render",value:function(){var e=this.props,t=e.onSubmit,o=e.onCancel,r=this.state,n=r.hue,a=r.data,l=r.pos;return s.React.createElement("div",{className:"color-picker-box clearfix"},s.React.createElement("div",{className:"mask",ref:"mask",style:{background:n},onMouseDown:this.startChoose.bind(this,"mask")},s.React.createElement("div",{className:"b"}),s.React.createElement("div",{className:"c",style:{top:l.top,left:l.left}})),s.React.createElement("div",{className:"roll",ref:"roll",onMouseDown:this.startChoose.bind(this,"roll")},s.React.createElement("div",{className:"c",style:{top:l.roll_top}})),s.React.createElement("div",{className:"r"},s.React.createElement("span",{className:"preview"},s.React.createElement("i",{style:{background:"#"+a.color}}),"颜色"),s.React.createElement("dl",null,s.React.createElement("dd",null,s.React.createElement("label",null,"H："),s.React.createElement("input",{onChange:this.changeHandle.bind(this,"h"),value:a.h}),"度"),s.React.createElement("dd",null,s.React.createElement("label",null,"S："),s.React.createElement("input",{onChange:this.changeHandle.bind(this,"s"),value:a.s}),"%"),s.React.createElement("dd",null,s.React.createElement("label",null,"B："),s.React.createElement("input",{onChange:this.changeHandle.bind(this,"b"),value:a.b}),"%")),s.React.createElement("dl",null,s.React.createElement("dd",null,s.React.createElement("label",null,"R："),s.React.createElement("input",{onChange:this.changeHandle.bind(this,"R"),value:a.R})),s.React.createElement("dd",null,s.React.createElement("label",null,"G："),s.React.createElement("input",{onChange:this.changeHandle.bind(this,"G"),value:a.G})),s.React.createElement("dd",null,s.React.createElement("label",null,"B："),s.React.createElement("input",{onChange:this.changeHandle.bind(this,"B"),value:a.B})),s.React.createElement("dd",{className:"color"},s.React.createElement("label",null,"#"),s.React.createElement("input",{onChange:this.changeHandle.bind(this,"color"),value:a.color}))),s.React.createElement("button",{onClick:function(e){return t(a,e)},className:"nj-button nj-button-red nj-button-small ok"},"确定"),s.React.createElement("button",{onClick:function(e){return o(a,e)},className:"nj-button nj-button-small close"},"取消")))}}]),t}(s.React.Component);t.default=d},299:function(e,t,o){t=e.exports=o(47)(void 0),t.push([e.i,"#nj_color{position:absolute;background:#f5f5f5;padding:15px;border:1px solid;width:380px;border-color:#e4e4e4 #ccc #ccc #e4e4e4;display:none;z-index:999}#nj_color .mask{border:1px solid;border-color:#bbb #fff #fff #bbb;width:255px;height:255px;position:relative;float:left;background:red}#nj_color .mask .b{position:absolute;top:0;left:0;width:100%;height:100%;background:url("+o(293)+")}#nj_color .mask .c{position:absolute;top:-6px;left:-6px;width:12px;height:12px;background:url("+o(292)+")}#nj_color .roll{width:20px;height:255px;margin:0 12px;float:left;position:relative;background:url("+o(294)+")}#nj_color .roll .c{width:32px;height:9px;background:url("+o(295)+");position:absolute;top:-3px;left:-5px}#nj_color .r{float:right}#nj_color .preview{text-align:center;display:inline-block}#nj_color .preview i{display:block;width:70px;height:40px;border:1px solid;border-color:#bbb #fff #fff #bbb;background:#fff}#nj_color .r dl{margin:5px 0 0}#nj_color .r dd label{display:inline-block;width:21px}#nj_color .r dd input{width:25px;padding:1px 3px;line-height:15px;border-radius:3px;border:1px solid;border-color:#ccc #eee #eee #ccc;margin:0 5px 0 0}#nj_color .r dd{padding:1px 0 2px}#nj_color .r .color{padding:6px 0}#nj_color .r .color label{width:auto}#nj_color .r .color input{width:50px}.color-picker{display:inline-block;border:1px solid #bbb;border-radius:2px;background:#fff;width:12px;height:12px;vertical-align:middle;position:relative}.color-picker .transparent{border-top:1px solid #eb5648;transform:translateY(-50%) rotate(45deg);transform-origin:0 0;width:150%;position:absolute;top:0;left:0}.color-picker .inner{display:inline-block;width:10px;height:10px;vertical-align:top;margin:1px}.color-picker-box{background:#f5f5f5;padding:15px;border:1px solid;width:400px;border-color:#e4e4e4 #ccc #ccc #e4e4e4}.color-picker-box .mask{border:1px solid;border-color:#bbb #fff #fff #bbb;width:255px;height:255px;position:relative;float:left}.color-picker-box .mask .b{position:absolute;top:0;left:0;width:100%;height:100%;background:url("+o(293)+")}.color-picker-box .mask .c{position:absolute;top:-6px;left:-6px;width:12px;height:12px;background:url("+o(292)+")}.color-picker-box .roll{width:20px;height:255px;margin:0 12px;float:left;position:relative;background:url("+o(294)+")}.color-picker-box .roll .c{width:32px;height:9px;background:url("+o(295)+");position:absolute;top:-3px;left:-5px}.color-picker-box .r{float:right}.color-picker-box .preview{text-align:center;display:inline-block}.color-picker-box .preview i{display:block;width:70px;height:40px;border:1px solid;border-color:#bbb #fff #fff #bbb;background:#fff}.color-picker-box .r dl{margin:5px 0 0}.color-picker-box .r dd label{display:inline-block;width:21px}.color-picker-box .r dd input{width:25px;padding:1px 3px;line-height:15px;border-radius:3px;border:1px solid;border-color:#ccc #eee #eee #ccc;margin:0 5px 0 0}.color-picker-box .r dd{padding:1px 0 2px}.color-picker-box .r .color{padding:6px 0}.color-picker-box .r .color label{width:auto}.color-picker-box .r .color input{width:50px}",""])},300:function(e,t,o){var r=o(299);"string"==typeof r&&(r=[[e.i,r,""]]);o(48)(r,{insertAt:"top"});r.locals&&(e.exports=r.locals)},85:function(e,t,o){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0}),t.init=void 0;var n=o(5),a=(r(n),o(17)),l=(r(a),o(297)),i=r(l);o(46),t.init=function(){(0,a.render)(a.React.createElement(i.default,{color:"369",_onChange:function(e){return console.log(e)}}),document.getElementById("mounted"))}}});